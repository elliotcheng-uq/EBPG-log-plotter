JMAN LOGFILE: /home/pg/users/cmmclient/log/2547_1207_MaN_Si_Calib_MaN2403.log
JMAN COMMENT:
MaN 20 x 20

installing beams environment v09_14k 
installing pg environment
installing aliases
installing operator environment
Installing project pg environment
Set umask to 0002
ce pg cmmclient
Installing project cmmclient environment
pg select holder 10
/home/pg/users/cmmclient/jobs/1207_MaN_Si_Calib_MaN2403.job -f 74707,80435.5
script_init: installing error handlers
reference = faradaycup
ref1 = 74707,80435.5
###########################################
###########################################
/home/pg/users/cmmclient/jobs/1207_MaN_Si_Calib_MaN2403.job 74707,80435.5
Tue Jul 12 18:20:25 AEST 2022
###########################################
###########################################
#! /bin/bash

########################################################
#
# Copyright © 2022 RAITH nanofabrication
# This script is automatically generated by:
#    cjob:  v02_20
#    beams: v09_14k
#    date:  Tue Jul 12 14:10:41 2022
#
########################################################

# for help use: 
#   $0 -h       
#               
#
# Estitmated exposure times WITH calibration and marker searches:
#
#                                                        Stage Moves+
# Pattern                   cnt  Min Freq    Max Freq    Beam On     +Over Head
# -----------------------------------------------------------------------------
# MaN2403Si_calib.gpf         4  15.882 MHz  15.882 MHz  01:19:46 h  ??:??:??
# text1_L1:250_to_L10:7...    4   9.926 MHz   9.926 MHz  00:01:52 h  ??:??:??
#                       7 Stage moves between patterns:  00:00:03 h  00:00:03 h
#                           Estimated Load Holder Time:              00:04:00 h
#                           Estimated Adjust EBPG Time:              00:02:00 h
#                         Estimated Marker Search Time:              ??:??:??
#                        Total Estimated Exposure Time:  01:21:39 h  ??:??:??


# include error handling
. script_init_template

# No Alignment

# include do_xxxx functions
. cjob_func
unset no_error_exit


########################################################
#
# execute task for exposure : MaN2403
#
########################################################

if [ -z "$cjob_lay" ]; then

  export cjob_jobname=1207_MaN_Si_Calib
  export cjob_hightension=100
  export cjob_workdistance=40
  export cjob_sample=20000,20000   #um,um; mask-widht,height

  if [ "$help" != true ]; then 
    # log this script to log file
    echo "###########################################"
    echo "###########################################"
    
    echo $0 $@
    date
    
    echo "###########################################"
    echo "###########################################"
    
    cat $0
    
    echo "###########################################"
    echo "###########################################"
    echo ""
    
    # set default machine specific conditions here

    if [ -r "$CJ_INI" ]; then
      . $CJ_INI
    fi

    # optional file user specific machine conditions

    if [ -r "$CJ_USER_INI" ]; then
      . $CJ_USER_INI
    fi

    # define here optionally for each marker
    cjob_check $0
    # clear any inheritage from environment
    do_clear

    if [ "$reference" != "" ]; then 
      export cjob_reference=$reference
    fi

    if [ "$JMAN_LOAD_SELECT" != "done" ]; then
      if [ "$holder" == "" ]; then 
        cjob_usage
        do_exit 0
      fi
      export cjob_holder=$holder

      if [ "$caspos" == "" ]; then 
        cjob_usage
        do_exit 0
      fi
      export cjob_caspos=$caspos

      # load holder (optional)and define holder parameters
      
      cjob_substrate

    fi
    # optional file job specific machine conditions

    inifile=`echo ${0%%.job}.ini`
    if [ -r "$inifile" ]; then
      . $inifile
    fi
  fi # not help

  export cjob_beam="1na_400.beam_100"
  export cjob_pattern="MaN2403Si_calib.gpf"
  export cjob_dose=250.0

 #export cjob_height=none | check | current_map | measure_map | marker_map
  export cjob_height=check

  #export cjob_check_maindist=on
  #export cjob_check_mainfield=on
  #export cjob_check_xmbc=on
  #export cjob_check_xmbq=on

  # position of substrate
  export cjob_position="0.0,0.0"
  export cjob_bound_bottomleft="-9000.0,-9000.0"
  export cjob_bound_topright="9000.0,9000.0"
  export cjob_origin="0.0,0.0"

  if [ "$help" = true ]; then
    . cjob_help $all
    do_exit 0
  fi
  # Insert here additional machine parameter settings
  # for this exposure layer
  
  export no_error_exit=yes
  cjob_layout $0 MaN2403 $cjob_ref1 $cjob_ref2 $cjob_ref3 $cjob_ref4

  cjob_exitstatus=$?
  jobstatus=NORMAL
  if [ "$cjob_exitstatus" != 0 ]; then
    jobstatus=ERROR
  fi
  # optional file job specific exit conditions

  exifile=`echo ${0%%.job}.exi`
  if [ -r "$exifile" ]; then
    . $exifile $jobstatus
  fi

  # optional file user specific exit conditions

  if [ -r "$CJ_USER_EXI" ]; then
    . $CJ_USER_EXI $jobstatus
  fi

  # set default machine exit specific conditions here

  if [ -r "$CJ_EXI" ]; then
    . $CJ_EXI $jobstatus
  fi

  exit $cjob_exitstatus
fi

if [ "$cjob_lay" == "MaN2403" ]; then

  ############################
  # Exposure        MaN2403
  # Main Resolution 0.001
  # Sub Resolution  0.0005
  # Main Field      1000
  # beam            1na_400.beam_100
  
  # setup repetition layout

  do_clear_layout

  export cjob_scanorder=serpentine
  export cjob_vect1="10000.0,0.0"
  export cjob_vect2="0.0,10000.0"
  export cjob_cells="2,2"
 
  do_clear_dropcirc
  export cjob_origin="0.0,0.0"
  cjob_do $0 2x2

fi


########################################################
#
# execute task for layout : 2x2
#
########################################################

if [ "$cjob_lay" == "2x2" ]; then

  # clear alignment
  do_clear_dw

  do_clear_dropcirc
  # setup expose pattern
  export cjob_pattern="MaN2403Si_calib.gpf"
  export cjob_dose=250.0

  export cjob_origin="0.0,0.0"

  cjob_do pattern

  # Clear dose update for pattern-identifiers
  do_clear_dose
  
  # clear alignment
  do_clear_dw
  do_clear_dropcirc
  # setup expose identifier
  export cjob_beam="1na_400.beam_100"
  export cjob_calib_method="pattern"
  export cjob_calib_pattern="MaN2403Si_calib.gpf"
  export cjob_dose=400.0

  export cjob_identifier_type=text
  export cjob_fontname="helvetica"
  export cjob_fontweight=medium # medium, bold
  export cjob_fontslant=r       # r, o, i
  export cjob_fontsize=25

  export cjob_identifier="L1:250 to L10:700 uC in step of 25"
  export cjob_identifier_layout=2x2
  export cjob_identifier_pattern="MaN2403Si_calib.gpf"
  export cjob_identifier_dose=250     # uC/cm2
  export cjob_identifier_beam="1na_400.beam_100"
  export cjob_identifier_current=0.9926  # nA
  export cjob_identifier_bss=0.005      # um

  export cjob_orientation=normal
  export cjob_placement=center,line
  export cjob_invert=0
  export cjob_pixelsize=2,2

  export cjob_origin="0.0,-1250.0"

  cjob_do identifier

fi

do_exit 0
###########################################
###########################################

Set up default machine parameters
script_init: installing error handlers
MACHINE: EBPG 5150 HS
BEAMS  : v09_14k build: Fri Mar 11 09:21:51 CET 2022

DATA BASE: 0002.0013

UPG:
  Software : 4.60
  Board    : crate 15: pev-linux
  Driver   : 4.60

UPG:
  Firmware version : 04.00.220110.055fd5f9d
  PG PLD version   : 1.0.3 build 179 (0x080300B3)

MDD:
  MDD type         : MDD
  EI-link version  : 6
  PG-link version  : 9
  MDAC version     : 0
  MDAC strike,issue: 0,0
  MDAC bits        : 20
  MDAC corr bits   : 16

MDP:
  MDP_X type      : old type MDP
  MDP_X Firmware  : 3
  MDP_X boardType : HR/HS defined by hardware (0)
  MDP_Y type      : old type MDP
  MDP_Y Firmware  : 3
  MDP_Y boardType : HR/HS defined by hardware (0)

Video Driver:
  PMD board       : old type PMD

LSC:
  X: 30086
  X: 30086

SMC:
  Longitudinal: 1VE SMC_CC - Controller-driver version  3. 1. 2
  Transversal : 2VE SMC_CC - Controller-driver version  3. 1. 2
  connection  : via ethernet
  options     : full, including adjust aperture

HT:
  FUG high tension unit

Vacuum Controller:
  SPLC 1.43

cjob_check:

Pattern name         : MaN2403Si_calib.gpf
File name            : /home/pg/users/cmmclient/patterns/GPF_UPLOAD/MaN2403Si_calib.gpf

Format               : GPF: external memory mode
Shape Type           : TRAPEZIUM
Number of Blocks     : 2
Main field placement : MEANDER_X
Sub field placement  : LOWERLEFT
Fracture style       : SUBFIELD
Number of Main bits  : 20
Number of Sub bits   : 14
Work Level           : 1
Number freq. factors : 191
Minimum frequency    : 0.218188
Maximum frequency    : 1.445087
Reference frequency    : 0x80000000
Pixel time           : 18999912929.000000 (1.89999e+10)
High Tension         : 100 kV
Number of blocks     :                  1   ,                 2
Block size           :      1000.00000000 um,     1000.00000000 um
Pattern size         :       876.00500000 um,     1909.04500000 um
Resolution           :         0.00500000 um
Beamstepsize         :         0.00500000 um
Main resolution      :         0.00100000 um
Trap resolution      :         0.00050000 um


Archive: 1na_400.beam_100                Date: 04-JUL-2022 
Version Beam      4.00

High Tension           :      100 kV     Final Aperture      :      400 um

Gun control :
bias voltage           :  -400.00  V     filament current    :     2.32  A
Extractor   voltage    :  5581.00  V     current             :   115.02 uA
tilt  X         41137  :   34.910 mA     tilt  Y      33287  :    2.019 mA
shift X         27194  :  -21.637 mA     shift Y      30006  :   -5.814 mA
AD setpoint dac 100kV  :     4095

Lens control:
Final lens      40940  :  3.99825  A
C1 setting      17692  : 3538.400  V     C2 setting   30006  :  0.95137  A

Beam quality:
Fine Focus dac         :     1985
Diagonal Stigmator dac :     2393        Axis Stigmator dac  :     2199

measured spotsize      :    0.027 um     beamcurrent         :      992 pA
PMHV setting (dac)     :     2174
BEAMPAR setting        :     60.0 s

cjob_layout:
remove dot files from $PG_PATTERNS/cjob
reference = faradaycup
faradaycup reference 14790.000000,20490.000000
height_option 1
pg measure height substrate --centre=89497.000000,100925.500000 --size=16200.000000,16200.000000 --maxbadpoints=0
                 measured heights in um on the substrate     
                 ---------------------------------------     
                                                             
                81.397            89.497              97.597
                                                             
             +----------------------------------------------+
             |                                              |
             |                                              |
     109.025 |  24.3              28.2                28.2  |
             |                                              |
             |                                              |
             |                                              |
             |                                              |
     100.925 |  **.*              28.0                **.*  |
             |                                              |
             |                                              |
             |                                              |
             |                                              |
      92.826 |  24.4              27.5                26.8  |
             |                                              |
             |                                              |
    y  ^     +----------------------------------------------+
       |                                                     
       +---> x                                               
    average height 26.8_um
    Number of bad heights = 2. Allowed = 0.

%ENG_E_SHOUHM      -  the substrate height is outside the height meter range  
12-7-2022 18:20 - ERROR: Error checking height
Elapsed time for layout MaN2403 0:0:9.65
0,0
0,0
0,0
0,0
0,0
restore relative correction DACS
1 is no beams error at line 144 in /home/pg/users/cmmclient/jobs/1207_MaN_Si_Calib_MaN2403.job
1 is no beams error
NO UNLOAD
  because <nounload> selected

Job status:   CRASHED

Mail to:      h.cheng6@uq.edu.au
